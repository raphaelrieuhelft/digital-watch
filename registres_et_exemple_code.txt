

Registres :

$t0, $t1, etc. (nombre à déterminer) : temporaires

$qa : tics quartz

$sc0 : unités secondes
$sc1 : dizaines secondes
$mn0 : unités minutes
$mn1 : dizaines minutes
$hr0 : unités heures
$hr1 : dizaines heures
$hr : total heures
$da0 : unités jours
$da1 : dizaines jours
$da : total jours
$mo0 : unités mois
$mo1 : dizaines mois
$mo : total mois
$yr0 : unités ans
$yr1 : dizaines ans
$yr : total ans

$nda : nombre de jours dans le mois courant


$k0 : destination de l'instruction lbi ; on y stocke la fréquence du quartz, ou 1 si on veut faire tourner la montre le plus vite possible
$ra : adresse de retour (nécessaire?)
$at : temporaire assembleur, utilisé pour la pseudoinstruction cbeqi
$zero : toujours 0



Immédiate de Send Digit :
0 : unités secondes
1 : dizaines secondes
2 : unités minutes
3 : dizaines minutes
4 : unités heures
5 : dizaines heures
6 : unités jours
7 : dizaines jours
8 : unités mois
9 : dizaines mois
10 : unités ans
11 : dizaines ans

	
on a a géré secondes, minutes, heures, jours, et vu qu'on change de mois
	
	//incrémentation du mois et affichage
	incr $mo
	cbeqi $mo 13
	j L0
	li $mo 1
	li $mo0 1
	li $mo1 0
	j L1
L0:	incr $mo0 $mo0
	cbeqi $mo0 10
	j L1
	li $mo 0
	incr $m1 $m1
L1: sd $m0 8		//changement de l'affichage
	sd $m1 9		//changement de l'affichage
	
	//actualisation de $nda
	cbeqi $nda 31 //après un mois à <31 jours vient toujours un mois à 31 jours
	j L2
	li $nda 30 //la plupart du temps, après un mois à 31 jours, vient un à 30 jours...
	cbeqi $nda 8 //...sauf si c'est août...
	j L3
	j L2
L3:	cbeqi $mo 1 //...ou janvier...
	j L4
	j L2
L4: cbeqi $mo 2 //...ou février
	j L5
	li $nda 28
	modf $an $t0
	cbeqi $to $zero //année bissextile?
	li $nda 29
	j L5
L2: li $nda 31
L5: cbeqi $mo 1
	j debut //retourner au début du code : on a fini le tour de boucle
	incr $an
	// puis incrémenter $an0, éventuellement $an1 etc.
	















	
	
	
	
	